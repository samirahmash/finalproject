# Final Project Team 4
library(shiny)
library(dplyr)
# data from International Labor Organization on unemployment from 1990 to 2015,
# broken down by country, gender, age group, urban/rural, year
# NOTE: Can't figure out how to make a general and shortened file path for some reason...
source('./scripts/choro_map_creation_function.R')
source('./scripts/choro_map_data_function.R')
source('./scripts/scatter1_creation_function.R')
source('./scripts/scatter1_data_function.R')
source('./scripts/bar_creation_function.R')
source('./scripts/bar_data_function.R')
df <- read.csv("./data/ilodata.csv", stringsAsFactors = FALSE)
shinyServer(function(input, output) {
# Render a plotly object that returns your scatter on the UI's radio button and select indicator
output$GlobalMap <- renderPlotly({
return(
WorldMap(
FilterMapData(df,
input$radio2,
input$radio1,
input$slider2[1],
input$slider2[2],
input$select
)
)
)
})
output$ComboUnemployment <- renderPlotly({
return(
UrbanRuralScatter(
UnemployedScatter(df,
input$slider2[1],
input$slider2[2],
input$radio1,
input$select
)
)
)
})
output$Bar1 <- renderPlotly({
return(
UnemploymentBar(
BarData(df,
input$select2,
input$radio3
)
)
)
})
})
source('./scripts/choro_map_creation_function.R')
getwd()
setwd("C:\Users\gebiz\Desktop\finalproject\scripts")
setwd("C:/Users/gebiz/Desktop/finalproject/scripts")
getwd()
# Final Project Team 4
library(shiny)
library(dplyr)
# data from International Labor Organization on unemployment from 1990 to 2015,
# broken down by country, gender, age group, urban/rural, year
# NOTE: Can't figure out how to make a general and shortened file path for some reason...
source('./scripts/choro_map_creation_function.R')
source('./scripts/choro_map_data_function.R')
source('./scripts/scatter1_creation_function.R')
source('./scripts/scatter1_data_function.R')
source('./scripts/bar_creation_function.R')
source('./scripts/bar_data_function.R')
df <- read.csv("./data/ilodata.csv", stringsAsFactors = FALSE)
shinyServer(function(input, output) {
# Render a plotly object that returns your scatter on the UI's radio button and select indicator
output$GlobalMap <- renderPlotly({
return(
WorldMap(
FilterMapData(df,
input$radio2,
input$radio1,
input$slider2[1],
input$slider2[2],
input$select
)
)
)
})
output$ComboUnemployment <- renderPlotly({
return(
UrbanRuralScatter(
UnemployedScatter(df,
input$slider2[1],
input$slider2[2],
input$radio1,
input$select
)
)
)
})
output$Bar1 <- renderPlotly({
return(
UnemploymentBar(
BarData(df,
input$select2,
input$radio3
)
)
)
})
})
source('./scripts/choro_map_creation_function.R')
setwd("C:/Users/gebiz/Desktop/finalproject")
source('./scripts/choro_map_data_function.R')
source('./scripts/choro_map_creation_function.R')
# Final Project Team 4
library(shiny)
library(dplyr)
# data from International Labor Organization on unemployment from 1990 to 2015,
# broken down by country, gender, age group, urban/rural, year
# NOTE: Can't figure out how to make a general and shortened file path for some reason...
source('./scripts/choro_map_creation_function.R')
source('./scripts/choro_map_data_function.R')
source('./scripts/scatter1_creation_function.R')
source('./scripts/scatter1_data_function.R')
source('./scripts/bar_creation_function.R')
source('./scripts/bar_data_function.R')
df <- read.csv("./data/ilodata.csv", stringsAsFactors = FALSE)
shinyServer(function(input, output) {
# Render a plotly object that returns your scatter on the UI's radio button and select indicator
output$GlobalMap <- renderPlotly({
return(
WorldMap(
FilterMapData(df,
input$radio2,
input$radio1,
input$slider2[1],
input$slider2[2],
input$select
)
)
)
})
output$ComboUnemployment <- renderPlotly({
return(
UrbanRuralScatter(
UnemployedScatter(df,
input$slider2[1],
input$slider2[2],
input$radio1,
input$select
)
)
)
})
output$Bar1 <- renderPlotly({
return(
UnemploymentBar(
BarData(df,
input$select2,
input$radio3
)
)
)
})
})
runApp()
runApp()
runApp()
View(UnemploymentBar)
library(shiny)
library(plotly)
df <- read.csv("./data/ilodata.csv", stringsAsFactors = FALSE)
only.countries <- select(df, Country_Label) %>% unique()
only.ages <- select(df, Classif1_Item_Label) %>% unique()
shinyUI(fluidPage(
tabsetPanel(
tabPanel("International Labor Organization - Visualized",
sidebarLayout(
sidebarPanel(
radioButtons("radio1","Gender",
choices = list("Female",
"Male",
"Total"),
selected = "Total"),
radioButtons("radio2", "Area",
choices = list("Rural",
"Urban",
"National"),
selected = "National"),
sliderInput("slider2", "Slider Range",
min = min(df$Time),
max = max(df$Time),
value = c(1995, 1996),
round = TRUE,
step = 1,
animate = TRUE
),
selectInput("select",
label = h3("Select an Age Range"),
choices = only.ages,
selected = only.ages[1])
),
mainPanel(
plotlyOutput("GlobalMap"),
plotlyOutput("ComboUnemployment")
)
)
),
tabPanel("International Labor Scatterplot",
sidebarLayout(
sidebarPanel(
selectInput("select2",
label = h3("Select a Country"),
choices = only.countries,
selected = only.countries[1]),
radioButtons("radio3", "Area",
choices = list("Rural",
"Urban",
"National"),
selected = "National")
),
mainPanel(
plotlyOutput("Bar1")
)
)
)
)
)
)
runApp()
library(plotly)
library(dplyr)
UnemploymentBar <- function(df) {
gender.hist <- plot_ly(df,
x = ~Time,
y = ~male.mean,
type = "bar",
name = "Male Unemployment Percentage",
color = "Blue") %>%
add_trace(
y = ~female.mean,
name = "Female Unemployment Percentage",
color = "Pink") %>%
add_trace(
y = ~total.mean,
name = "Total Unemployment Percentage",
color = "Orange") %>%
layout(yaxis = list(title = "Percentage Unemployedst"),
xaxis = list(title = "Year"),
barmode = "group")
return(gender.hist)
}
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
shiny::runApp()
install.packages('rsconnect')
install.packages("rsconnect")
rsconnect::setAccountInfo(name='samirahmash',
token='7F8EFC1E5EFD956202E5838992918E81',
secret='<SECRET>')
library(rsconnect)
rsconnect::deployApp('path/to/your/app')
library(rsconnect)
rsconnect::deployApp('https://gebizar.shinyapps.io/finalproject/')
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
rsconnect::setAccountInfo(name='samirahmash', token='7F8EFC1E5EFD956202E5838992918E81', secret='7ZhQSDZkAt8ixhzQXYdoSd2AzH6ZvA71F8XrGhZt')
runApp()
runApp()
source('./scripts/line_graph_data_filter.R')
source('./Scripts/buildScatter.R')
runApp()
runApp()
data <- read.csv("./data/ilodata.csv")
# Reads in data as a data table from the International Labor Organization on unemployment from 1990 to 2015,
# broken down by country, gender, age group, urban/rural, and year.
data <- read.csv("./data/ilodata.csv")
# Loads dplyr package to use its functions to manipulate the data.
library(dplyr)
# Filters ILO data for a map by rural/urban area, gender, years, and age in an accessible function.
FilterMapData <- function(df, urbvar, gender, start.year, end.year, age) {
# Filters out column spaces with NA.
data <- filter(df, !is.na(Obs_Value))
# Pares down data for necessary values which are chosen as inputs at the beginning of the function.
# Then, summarises by occurrences and creates a column representing the mean of the observed values.
short.data <- select(df, Country_Label, Country_Code, Sex_Item_Label,
Classif1_Item_Label, Classif2_Item_Label, Time, Obs_Value)
mapping.data <- short.data %>%
filter(Classif2_Item_Label == urbvar,
Sex_Item_Label == gender,
age == Classif1_Item_Label,
Time >= start.year,
Time <= end.year) %>%
group_by(Country_Code) %>%
summarise(occurrences = n(),
mean.observations = mean(Obs_Value))
mapping.data <- mapping.data[!duplicated(mapping.data), ]
return (mapping.data)
}
# Test filtered datatable function.
# mapping.data <- FilterMapData("National", "Total", "Total")
# For some reason, there are duplicates. This deals with that.
# Loads plotly and dplyr packages to use their functions to manipulate data.
library(plotly)
library(dplyr)
# Creates function for with hovering markers for points on a scatter plot, representing urban and rural
# unemployment in different countries.
UrbanRuralScatter <- function(df) {
df$hover = with(df, paste("Country:", Country_Label, '<br>',
"Percentage of Urban Unemployment:", urban.mean, '<br>',
"Percentage of Rural Unemployment:", rural.mean, '<br>',
"Combined Unemployment:", urban.mean + rural.mean)
)
return(
plot_ly(df,
x = ~urban.mean,
y = ~rural.mean,
text = ~hover,
type = "scatter",
mode = "markers",
marker = list(size = 10,
color = 'Red',
line = list(width = 2,
color = "Black"))) %>%
layout(title = "Comparing Urban and Rural Unemployment",
yaxis = list(title = "Rural Unemployment",
zeroline = FALSE),
xaxis = list(title = "Urban Unemployement",
zeroline = FALSE)) %>%
add_trace(df, y = df$rural.mean, x = df$rural.mean, mode = 'lines')
)
}
runApp()
runApp()
setwd("~/Documents/GitHub/finalproject")
runApp()
library(shiny)
library(plotly)
library(dplyr)
runApp()
runApp()
runApp()
runApp()
